#!/usr/bin/env ruby

$:.unshift File.join(File.dirname(__FILE__), '..', 'lib')
require 'ssh-forever'
require 'optparse'

help = 'Usage: ssh-forever username@yourserver.com [-p port]'

options = {}
OptionParser.new do |opts|
  opts.banner = help
  
  opts.on('-p', '--port [PORT]', 'port') do |port|
    options[:port] = port
  end
end.parse!

login = ARGV[0]

if login.nil?
  puts help 
  exit 1
end

SecureShellForever.run(login, options)